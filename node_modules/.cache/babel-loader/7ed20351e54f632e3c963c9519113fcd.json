{"ast":null,"code":"import _slicedToArray from \"R:\\\\React\\\\foos-test\\\\foos-master\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"R:\\\\React\\\\foos-test\\\\foos-master\\\\src\\\\components\\\\shared\\\\components\\\\NewItemForm.js\";\nimport React, { useState } from \"react\";\nimport uploadImg from \"../../../services/uploadImg\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { addPlayer } from \"../../../redux/players/player-action\";\nexport default function NewItemForm({\n  handleOnChange,\n  handleShowNewItemForm\n}) {\n  const dispatch = useDispatch();\n\n  const _useState = useState(false),\n        _useState2 = _slicedToArray(_useState, 2),\n        isShowNewItemForm = _useState2[0],\n        setIsShowNewItemForm = _useState2[1];\n\n  const _useState3 = useState(\"\"),\n        _useState4 = _slicedToArray(_useState3, 2),\n        image = _useState4[0],\n        setImage = _useState4[1];\n\n  const _useState5 = useState(\"\"),\n        _useState6 = _slicedToArray(_useState5, 2),\n        imagePreview = _useState6[0],\n        setImagePreview = _useState6[1];\n\n  let _useSelector = useSelector(state => state.playerReducer),\n      player = _useSelector.player,\n      departments = _useSelector.departments;\n\n  const showNewItemForm = () => {\n    setIsShowNewItemForm(!isShowNewItemForm);\n  };\n\n  const handleImageSelect = event => {\n    const file = document.getElementById(\"imgInput\").files[0];\n    console.log(file);\n    const reader = new FileReader();\n\n    reader.onload = function (e) {\n      let displayImage = document.createElement(\"img\");\n      displayImage.src = e.target.result;\n      console.log(e.target.result);\n      setImagePreview(displayImage);\n    };\n\n    reader.readAsDataURL(file);\n    setImage(event.target.files[0]);\n  };\n\n  const onSubmit = event => {\n    event.preventDefault();\n    image ? createNewPlayer() : alert(\"Please upload an image\");\n  };\n\n  const createNewPlayer = () => {\n    image && uploadImg(player.username, image);\n    dispatch(addPlayer(player));\n    setIsShowNewItemForm(!isShowNewItemForm);\n    setImage(false);\n    setImagePreview(false);\n  };\n\n  return React.createElement(React.Fragment, null, React.createElement(\"section\", {\n    className: \"d-flex flex-row justify-content-start\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    onClick: showNewItemForm,\n    type: \"button\",\n    className: \"btn btn-outline-success mx-1\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    className: \"fas fa-plus  mr-2 my-lg-0\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }), \" Add New Player\"), isShowNewItemForm && React.createElement(\"button\", {\n    onClick: handleShowNewItemForm,\n    type: \"button\",\n    className: \"btn btn-outline-warning mx-1\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    className: \"fas fa-chevron-left  mr-2 my-lg-0\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66\n    },\n    __self: this\n  }), \" Cancel\")), isShowNewItemForm && React.createElement(\"div\", {\n    className: \"card my-3\",\n    style: {\n      width: \"auto\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71\n    },\n    __self: this\n  }, React.createElement(\"form\", {\n    className: \"card-header\",\n    id: \"newPlayer\",\n    onSubmit: onSubmit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  }, React.createElement(\"section\", {\n    className: \"d-flex flex-row\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"mt-3 mr-3 input-width\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    htmlFor: \"firstName\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75\n    },\n    __self: this\n  }, \"Username\"), React.createElement(\"input\", {\n    name: \"username\",\n    id: \"username\",\n    required: \"required\",\n    type: \"text\",\n    onChange: handleOnChange,\n    className: \"form-control\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76\n    },\n    __self: this\n  }))), React.createElement(\"section\", {\n    className: \"d-flex flex-row\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"mt-3 mr-3 input-width\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    htmlFor: \"department\",\n    className: \"mt-3\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88\n    },\n    __self: this\n  }, \"Department\"), React.createElement(\"select\", {\n    name: \"department\",\n    id: \"department\",\n    type: \"text\",\n    onChange: handleOnChange,\n    className: \"form-control\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92\n    },\n    __self: this\n  }, React.createElement(\"option\", {\n    value: \"\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97\n    },\n    __self: this\n  }, \"Select Department\"), departments.map(d => React.createElement(\"option\", {\n    value: d,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98\n    },\n    __self: this\n  }, d))))), React.createElement(\"input\", {\n    type: \"file\",\n    id: \"imgInput\",\n    onChange: handleImageSelect,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107\n    },\n    __self: this\n  }), imagePreview && React.createElement(\"img\", {\n    src: imagePreview.src,\n    alt: \"\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109\n    },\n    __self: this\n  }), React.createElement(\"button\", {\n    type: \"submit\",\n    className: \"btn btn-success mt-3\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    className: \"fas fa-save mr-2\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112\n    },\n    __self: this\n  }), \"Save\"))));\n}","map":{"version":3,"sources":["R:/React/foos-test/foos-master/src/components/shared/components/NewItemForm.js"],"names":["React","useState","uploadImg","useSelector","useDispatch","addPlayer","NewItemForm","handleOnChange","handleShowNewItemForm","dispatch","isShowNewItemForm","setIsShowNewItemForm","image","setImage","imagePreview","setImagePreview","state","playerReducer","player","departments","showNewItemForm","handleImageSelect","event","file","document","getElementById","files","console","log","reader","FileReader","onload","e","displayImage","createElement","src","target","result","readAsDataURL","onSubmit","preventDefault","createNewPlayer","alert","username","width","map","d"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\r\nimport uploadImg from \"../../../services/uploadImg\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { addPlayer } from \"../../../redux/players/player-action\";\r\n\r\nexport default function NewItemForm({ handleOnChange, handleShowNewItemForm }) {\r\n  const dispatch = useDispatch();\r\n  const [isShowNewItemForm, setIsShowNewItemForm] = useState(false);\r\n  const [image, setImage] = useState(\"\");\r\n  const [imagePreview, setImagePreview] = useState(\"\");\r\n\r\n  let { player, departments } = useSelector(state => state.playerReducer);\r\n\r\n  const showNewItemForm = () => {\r\n    setIsShowNewItemForm(!isShowNewItemForm);\r\n  };\r\n\r\n  const handleImageSelect = event => {\r\n    const file = document.getElementById(\"imgInput\").files[0];\r\n    console.log(file);\r\n    const reader = new FileReader();\r\n    reader.onload = function(e) {\r\n      let displayImage = document.createElement(\"img\");\r\n      displayImage.src = e.target.result;\r\n      console.log(e.target.result);\r\n      setImagePreview(displayImage);\r\n    };\r\n    reader.readAsDataURL(file);\r\n\r\n    setImage(event.target.files[0]);\r\n  };\r\n\r\n  const onSubmit = event => {\r\n    event.preventDefault();\r\n\r\n    image ? createNewPlayer() : alert(\"Please upload an image\");\r\n\r\n  };\r\n\r\n  const createNewPlayer = () => {\r\n    \r\n    image && uploadImg(player.username, image);\r\n    \r\n    dispatch(addPlayer(player));\r\n    setIsShowNewItemForm(!isShowNewItemForm);\r\n    setImage(false);\r\n    setImagePreview(false);\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <section className=\"d-flex flex-row justify-content-start\">\r\n        <button\r\n          onClick={showNewItemForm}\r\n          type=\"button\"\r\n          className=\"btn btn-outline-success mx-1\"\r\n        >\r\n          <span className=\"fas fa-plus  mr-2 my-lg-0\" /> Add New Player\r\n        </button>\r\n        {isShowNewItemForm && (\r\n          <button\r\n            onClick={handleShowNewItemForm}\r\n            type=\"button\"\r\n            className=\"btn btn-outline-warning mx-1\"\r\n          >\r\n            <span className=\"fas fa-chevron-left  mr-2 my-lg-0\" /> Cancel\r\n          </button>\r\n        )}\r\n      </section>\r\n      {isShowNewItemForm && (\r\n        <div className=\"card my-3\" style={{ width: \"auto\" }}>\r\n          <form className=\"card-header\" id=\"newPlayer\" onSubmit={onSubmit}>\r\n            <section className=\"d-flex flex-row\">\r\n              <div className=\"mt-3 mr-3 input-width\">\r\n                <label htmlFor=\"firstName\">Username</label>\r\n                <input\r\n                  name=\"username\"\r\n                  id=\"username\"\r\n                  required=\"required\"\r\n                  type=\"text\"\r\n                  onChange={handleOnChange}\r\n                  className=\"form-control\"\r\n                />\r\n              </div>\r\n            </section>\r\n            <section className=\"d-flex flex-row\">\r\n              <div className=\"mt-3 mr-3 input-width\">\r\n                <label htmlFor=\"department\" className=\"mt-3\">\r\n                  Department\r\n                </label>\r\n                \r\n                <select name=\"department\"\r\n                  id=\"department\"\r\n                  type=\"text\"\r\n                  onChange={handleOnChange}\r\n                  className=\"form-control\">\r\n                    <option value=\"\">Select Department</option>\r\n      {departments.map(d => (<option value={d}>{d}</option>))}\r\n                    \r\n                  </select>\r\n              </div>\r\n              \r\n            </section>\r\n\r\n\r\n            \r\n            <input type=\"file\" id=\"imgInput\" onChange={handleImageSelect} />\r\n\r\n            {imagePreview && <img src={imagePreview.src} alt=\"\" />}\r\n\r\n            <button type=\"submit\" className=\"btn btn-success mt-3\">\r\n              <span className=\"fas fa-save mr-2\" />\r\n              Save\r\n            </button>\r\n          </form>\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}