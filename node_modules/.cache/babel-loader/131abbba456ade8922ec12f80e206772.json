{"ast":null,"code":"import _objectSpread from \"/home/pi/foos/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"/home/pi/foos/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/pi/foos/src/components/playerAdmin/PlayerAdmin.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\nimport { fetchPlayers, updatePlayer, addPlayer, removePlayer, setPlayer } from \"../../redux/players/player-action\";\nimport NewItemForm from \"../shared/components/NewItemForm\";\nexport default function PlayerAdmin() {\n  //redux\n  const dispatch = useDispatch();\n\n  let _useSelector = useSelector(state => state.playerReducer),\n      players = _useSelector.players,\n      player = _useSelector.player,\n      isLoading = _useSelector.isLoading;\n\n  const _useState = useState(false),\n        _useState2 = _slicedToArray(_useState, 2),\n        isShowNewItemForm = _useState2[0],\n        setIsShowNewItemForm = _useState2[1];\n\n  useEffect(() => {\n    dispatch(fetchPlayers());\n  }, []);\n\n  const showNewItemForm = () => {\n    setIsShowNewItemForm(!isShowNewItemForm);\n  };\n\n  const onChange = ({\n    currentTarget: input\n  }) => {\n    const newPlayer = _objectSpread({}, player);\n\n    const name = input.name,\n          value = input.value;\n    newPlayer[name] = value;\n    dispatch(setPlayer(newPlayer));\n  };\n\n  const onSubmit = event => {\n    event.preventDefault();\n    dispatch(addPlayer(player));\n    setIsShowNewItemForm(!isShowNewItemForm);\n  };\n\n  const removeItem = (id, name) => {\n    const isConfirmed = window.confirm(`Delete ${name}?`);\n    if (!isConfirmed) return;\n    dispatch(removePlayer(id));\n  };\n\n  return React.createElement(React.Fragment, null, React.createElement(NewItemForm, {\n    isShowNewItemForm: isShowNewItemForm,\n    handleOnChange: onChange,\n    handleOnSubmit: onSubmit,\n    handleShowNewItemForm: showNewItemForm,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }), isLoading ? React.createElement(\"div\", {\n    style: {\n      display: \"flex\",\n      flexDirection: \"row\",\n      justifyContent: \"center\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"spinner-border\",\n    style: {\n      width: \"9rem\",\n      height: \"9rem\",\n      color: \"purple\"\n    },\n    role: \"status\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    className: \"sr-only\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75\n    },\n    __self: this\n  }, \"Loading...\"))) : players.map(item => React.createElement(\"div\", {\n    key: item._id,\n    className: \"card mt-3\",\n    style: {\n      width: \"auto\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"card-header\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81\n    },\n    __self: this\n  }, React.createElement(\"h3\", {\n    className: \"card-title\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82\n    },\n    __self: this\n  }, item.username)), React.createElement(\"section\", {\n    className: \"card-body\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"row\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85\n    },\n    __self: this\n  }, React.createElement(Link, {\n    to: `/edit-hero/${item._id}`,\n    className: \"btn btn-primary card-link col text-center\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    className: \"fas fa-edit  mr-2\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90\n    },\n    __self: this\n  }), \"Edit\"), React.createElement(\"button\", {\n    onClick: () => removeItem(item._id, item.username),\n    className: \"btn btn-outline-danger card-link col text-center\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    className: \"fas fa-eraser  mr-2\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97\n    },\n    __self: this\n  }), \"Delete\"))))));\n}","map":{"version":3,"sources":["/home/pi/foos/src/components/playerAdmin/PlayerAdmin.js"],"names":["React","useState","useEffect","useSelector","useDispatch","Link","fetchPlayers","updatePlayer","addPlayer","removePlayer","setPlayer","NewItemForm","PlayerAdmin","dispatch","state","playerReducer","players","player","isLoading","isShowNewItemForm","setIsShowNewItemForm","showNewItemForm","onChange","currentTarget","input","newPlayer","name","value","onSubmit","event","preventDefault","removeItem","id","isConfirmed","window","confirm","display","flexDirection","justifyContent","width","height","color","map","item","_id","username"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\nimport {\r\n  fetchPlayers,\r\n  updatePlayer,\r\n  addPlayer,\r\n  removePlayer,\r\n  setPlayer\r\n} from \"../../redux/players/player-action\";\r\nimport NewItemForm from \"../shared/components/NewItemForm\";\r\n\r\nexport default function PlayerAdmin() {\r\n  //redux\r\n  const dispatch = useDispatch();\r\n  let { players, player, isLoading } = useSelector(\r\n    state => state.playerReducer\r\n  );\r\n\r\n  const [isShowNewItemForm, setIsShowNewItemForm] = useState(false);\r\n  useEffect(() => {\r\n    dispatch(fetchPlayers());\r\n  }, []);\r\n\r\n  const showNewItemForm = () => {\r\n    setIsShowNewItemForm(!isShowNewItemForm);\r\n  };\r\n\r\n  const onChange = ({ currentTarget: input }) => {\r\n    const newPlayer = { ...player };\r\n    const { name, value } = input;\r\n    newPlayer[name] = value;\r\n    dispatch(setPlayer(newPlayer));\r\n  };\r\n\r\n  const onSubmit = event => {\r\n    event.preventDefault();\r\n    dispatch(addPlayer(player));\r\n\r\n    setIsShowNewItemForm(!isShowNewItemForm);\r\n  };\r\n\r\n  const removeItem = (id, name) => {\r\n    const isConfirmed = window.confirm(`Delete ${name}?`);\r\n    if (!isConfirmed) return;\r\n    dispatch(removePlayer(id));\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <NewItemForm\r\n        isShowNewItemForm={isShowNewItemForm}\r\n        handleOnChange={onChange}\r\n        handleOnSubmit={onSubmit}\r\n        handleShowNewItemForm={showNewItemForm}\r\n      />\r\n\r\n      {isLoading ? (\r\n        <div\r\n          style={{\r\n            display: \"flex\",\r\n            flexDirection: \"row\",\r\n            justifyContent: \"center\"\r\n          }}\r\n        >\r\n          <div\r\n            className=\"spinner-border\"\r\n            style={{\r\n              width: \"9rem\",\r\n              height: \"9rem\",\r\n              color: \"purple\"\r\n            }}\r\n            role=\"status\"\r\n          >\r\n            <span className=\"sr-only\">Loading...</span>\r\n          </div>\r\n        </div>\r\n      ) : (\r\n        players.map(item => (\r\n          <div key={item._id} className=\"card mt-3\" style={{ width: \"auto\" }}>\r\n            <div className=\"card-header\">\r\n              <h3 className=\"card-title\">{item.username}</h3>\r\n            </div>\r\n            <section className=\"card-body\">\r\n              <div className=\"row\">\r\n                <Link\r\n                  to={`/edit-hero/${item._id}`}\r\n                  className=\"btn btn-primary card-link col text-center\"\r\n                >\r\n                  <span className=\"fas fa-edit  mr-2\" />\r\n                  Edit\r\n                </Link>\r\n                <button\r\n                  onClick={() => removeItem(item._id, item.username)}\r\n                  className=\"btn btn-outline-danger card-link col text-center\"\r\n                >\r\n                  <span className=\"fas fa-eraser  mr-2\" />\r\n                  Delete\r\n                </button>\r\n              </div>\r\n            </section>\r\n          </div>\r\n        ))\r\n      )}\r\n    </>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}