{"ast":null,"code":"import _objectSpread from \"R:\\\\React\\\\foos-test\\\\foos-master\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";\nvar _jsxFileName = \"R:\\\\React\\\\foos-test\\\\foos-master\\\\src\\\\components\\\\scoreboard\\\\Scoreboard.js\";\nimport React from \"react\";\nimport \"./_scoreboard.scss\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { updateMatch, removeActiveMatch, gameOver } from \"../../redux/matches/match-action\";\nimport { updatePlayer, fetchPlayers } from \"./../../redux/players/player-action\";\nimport calculateAdjustment from \"../../services/calculateRatingAdjustment\";\nimport playScoreSound from \"../../services/scoreSound\";\n\nconst Scoreboard = () => {\n  let _useSelector = useSelector(state => state.matchReducer),\n      match = _useSelector.match,\n      matchOver = _useSelector.matchOver,\n      matches = _useSelector.matches;\n\n  const dispatch = useDispatch();\n\n  function onKeyDown(e) {\n    let newMatchData = _objectSpread({}, match);\n\n    console.log(e.key);\n\n    if (!newMatchData.matchOver) {\n      switch (e.key) {\n        case \"ArrowUp\":\n          newMatchData.teams.blue.score++;\n          break;\n\n        case \"ArrowDown\":\n          newMatchData.teams.blue.score > 0 ? newMatchData.teams.blue.score-- : newMatchData.teams.blue.score = 0;\n          break;\n\n        case \"ArrowLeft\":\n          newMatchData.teams.red.score > 0 ? newMatchData.teams.red.score-- : newMatchData.teams.red.score = 0;\n          break;\n\n        case \"ArrowRight\":\n          newMatchData.teams.red.score++;\n          break;\n\n        default:\n      }\n\n      handleScoreAdjustment(newMatchData);\n    }\n  }\n\n  function onKeyPressed(e) {\n    let newMatchData = _objectSpread({}, match);\n\n    if (!newMatchData.matchOver) {\n      if (e.type === \"contextmenu\") {\n        let diff = calculateTeamRating(match.teams.blue) - calculateTeamRating(match.teams.red);\n        newMatchData.teams.blue.score++;\n        playScoreSound(newMatchData.teams.blue.score, diff);\n      } else if (e.type === \"click\") {\n        let diff = calculateTeamRating(match.teams.red) - calculateTeamRating(match.teams.blue);\n        newMatchData.teams.red.score++;\n        playScoreSound(newMatchData.teams.red.score, diff);\n      }\n\n      handleScoreAdjustment(newMatchData);\n    }\n  }\n\n  const handleScoreAdjustment = newMatchData => {\n    if (match.teams.blue.score === 10) {\n      let ratingDiff = calculateTeamRating(match.teams.red) - calculateTeamRating(match.teams.blue);\n      let scoreDiff = match.teams.blue.score - match.teams.red.score;\n      let adjustment = calculateAdjustment(ratingDiff, scoreDiff);\n      newMatchData.teams.blue.adjustment = +adjustment;\n      newMatchData.teams.red.adjustment = -adjustment;\n      newMatchData.matchOver = true;\n      sendPlayers(newMatchData);\n      console.log(\"Updating player db\");\n    } else if (match.teams.red.score === 10) {\n      let ratingDiff = calculateTeamRating(match.teams.blue) - calculateTeamRating(match.teams.red);\n      let scoreDiff = match.teams.red.score - match.teams.blue.score;\n      let adjustment = calculateAdjustment(ratingDiff, scoreDiff);\n      newMatchData.teams.red.adjustment = +adjustment;\n      newMatchData.teams.blue.adjustment = -adjustment;\n      newMatchData.matchOver = true;\n      sendPlayers(newMatchData);\n      console.log(\"Updating player db\");\n    }\n\n    if (!matchOver) {\n      dispatch(updateMatch(newMatchData));\n\n      if (newMatchData.matchOver) {\n        dispatch(gameOver());\n      }\n    }\n  };\n\n  const calculateTeamRating = team => {\n    const p1Stats = team.players[0].stats;\n    const p2Stats = team.players[1].stats;\n    const rating = (p1Stats.rating + p2Stats.rating) / 2;\n    return rating;\n  };\n\n  const sendPlayers = matchData => {\n    const blueTeam = matchData.teams.blue;\n    const redTeam = matchData.teams.red;\n\n    for (let i = 0; i < 2; i++) {\n      let bPlayer = blueTeam.players[i];\n      let rPlayer = redTeam.players[i];\n      bPlayer.stats = calculatePlayerStats(bPlayer, matchData);\n      rPlayer.stats = calculatePlayerStats(rPlayer, matchData);\n      bPlayer.stats = calculatePlayerStats(bPlayer, \"blue\", matchData);\n      rPlayer.stats = calculatePlayerStats(rPlayer, \"red\", matchData);\n      dispatch(updatePlayer(blueTeam.players[i]));\n      dispatch(updatePlayer(redTeam.players[i]));\n    }\n  };\n\n  const calculatePlayerStats = (player, team, matchData) => {\n    let mDifference = 0;\n    let stats = {};\n\n    if (matchData) {\n      mDifference = matchData.teams.blue.score - matchData.teams.red.score;\n    }\n\n    stats.rating = player.stats.rating ? player.stats.rating : 1500;\n    stats.wins = player.stats.wins ? player.stats.wins : 0;\n    stats.loss = player.stats.loss ? player.stats.loss : 0;\n    stats.difference = player.stats.difference ? player.stats.difference : 0;\n    stats.screensFor = player.stats.screensFor ? player.stats.screensFor : 0;\n    stats.screensAgainst = player.stats.screensAgainst ? player.stats.screensAgainst : 0;\n    stats.streak = player.stats.streak ? player.stats.streak : 0;\n    stats.bestStreak = player.stats.bestStreak ? player.stats.bestStreak : 0;\n\n    switch (team) {\n      case \"blue\":\n        stats.rating += matchData.teams.blue.adjustment;\n        stats.wins = matchData.teams.blue.score === 10 ? stats.wins + 1 : stats.wins;\n        stats.loss = matchData.teams.blue.score < 10 ? stats.loss + 1 : stats.loss;\n        stats.difference += mDifference;\n        stats.screensFor = mDifference === 10 ? stats.screensFor + 1 : stats.screensFor;\n        stats.screensAgainst = mDifference === -10 ? stats.screensAgainst + 1 : stats.screensAgainst;\n        stats.streak = mDifference > 0 ? stats.streak + 1 : 0;\n        stats.bestStreak = stats.streak > stats.bestStreak ? stats.streak : stats.bestStreak;\n        break;\n\n      case \"red\":\n        stats.rating += matchData.teams.red.adjustment;\n        stats.wins = matchData.teams.red.score === 10 ? stats.wins + 1 : stats.wins;\n        stats.loss = matchData.teams.red.score < 10 ? stats.loss + 1 : stats.loss;\n        stats.difference += -mDifference;\n        stats.screensFor = mDifference === -10 ? stats.screensFor + 1 : stats.screensFor;\n        stats.screensAgainst = mDifference === 10 ? stats.screensAgainst + 1 : stats.screensAgainst;\n        stats.streak = mDifference < 0 ? stats.streak + 1 : 0;\n        stats.bestStreak = stats.streak > stats.bestStreak ? stats.streak : stats.bestStreak;\n        break;\n\n      default:\n    }\n\n    console.log(matchData);\n    return stats;\n  };\n\n  const renderNewMatchOptions = () => {\n    return React.createElement(\"div\", {\n      className: \"d-flex justify-content-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      onClick: startNewGame,\n      type: \"button\",\n      className: \"btn btn-primary c_button\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188\n      },\n      __self: this\n    }, \"New Match\")));\n  };\n\n  const startNewGame = () => {\n    dispatch(removeActiveMatch());\n    dispatch(fetchPlayers());\n  };\n\n  const rematch = () => {\n    //create a redux handler for rematch\n    dispatch(removeActiveMatch());\n  };\n\n  const winScreen = () => {\n    let players;\n\n    if (match.teams.blue.score === 10) {\n      players = match.teams.blue.players;\n    } else {\n      players = match.teams.red.players;\n    }\n\n    return React.createElement(React.Fragment, null, React.createElement(\"div\", {\n      className: \"winScreen-win-text\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215\n      },\n      __self: this\n    }, match.teams.blue.score === 10 ? \"Blue Team Wins!\" : \"Red Team Wins!\"), React.createElement(\"div\", {\n      className: \"winScreen\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 218\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"winner-card-container winner-card-container-one\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"w_flip-card w_flip-card-one\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"w_flip-card-inner w_flip-card-inner-one\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"w_flip-card-front\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"w_flip-card-back-title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 224\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225\n      },\n      __self: this\n    }, players[0].username)), React.createElement(\"div\", {\n      className: \"w_flip-card-back-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"w_flip-card-mainStats-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 228\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      id: \"mainStats-rating\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 229\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 230\n      },\n      __self: this\n    }, \"Rating\"), React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 231\n      },\n      __self: this\n    }, players[0].stats.rating.toFixed())), React.createElement(\"div\", {\n      id: \"vertical-divider\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 233\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      id: \"mainStats-winP\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 234\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 235\n      },\n      __self: this\n    }, \"Winrate\"), React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 236\n      },\n      __self: this\n    }, (players[0].stats.wins / (players[0].stats.wins + players[0].stats.loss) * 100).toFixed() + \"%\"))), React.createElement(\"div\", {\n      className: \"w_horizontal-divider\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 239\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"w_flip-card-back-secondaryStats-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 240\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 241\n      },\n      __self: this\n    }, \"Wins: \", React.createElement(\"strong\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 242\n      },\n      __self: this\n    }, players[0].stats.wins)), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 244\n      },\n      __self: this\n    }, \"Loss: \", React.createElement(\"strong\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 245\n      },\n      __self: this\n    }, players[0].stats.loss)), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 247\n      },\n      __self: this\n    }, \"Games Played:\", \" \", React.createElement(\"strong\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 249\n      },\n      __self: this\n    }, players[0].stats.gamesPlayed))), React.createElement(\"div\", {\n      className: \"w_horizontal-divider\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 252\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"w_flip-card-back-streak-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 253\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 254\n      },\n      __self: this\n    }, \"Dayum, son!\"), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 255\n      },\n      __self: this\n    }, \"Streak: \", React.createElement(\"strong\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 256\n      },\n      __self: this\n    }, players[0].stats.streak), \" \")))), React.createElement(\"div\", {\n      className: \"w_flip-card-back\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 262\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"w_flip-card-img-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 263\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      id: \"ioidfufuso898476\",\n      src: \"https://upload.wikimedia.org/wikipedia/commons/b/b8/Messi_vs_Nigeria_2018.jpg\",\n      alt: \"...\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 264\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"w_flip-card-mainStats-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 273\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      id: \"mainStats-rating\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 274\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 275\n      },\n      __self: this\n    }, \"Rating\"), React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 276\n      },\n      __self: this\n    }, players[0].stats.rating.toFixed())), React.createElement(\"div\", {\n      id: \"vertical-divider\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 278\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      id: \"mainStats-winP\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 279\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 280\n      },\n      __self: this\n    }, \"Winrate\"), React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 281\n      },\n      __self: this\n    }, (players[0].stats.wins / (players[0].stats.wins + players[0].stats.loss) * 100).toFixed() + \"%\"))), React.createElement(\"div\", {\n      className: \"w_front-name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 285\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 286\n      },\n      __self: this\n    }, players[0].username)))))), React.createElement(\"div\", {\n      className: \"winner-card-container winner-card-container-two\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 293\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"w_flip-card w_flip-card-two\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 294\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"w_flip-card-inner w_flip-card-inner-two\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 295\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"w_flip-card-front\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 296\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"w_flip-card-back-title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 297\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 298\n      },\n      __self: this\n    }, players[1].stats.username)), React.createElement(\"div\", {\n      className: \"w_flip-card-back-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 300\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"w_flip-card-mainStats-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 301\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      id: \"mainStats-rating\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 302\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 303\n      },\n      __self: this\n    }, \"Rating\"), React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 304\n      },\n      __self: this\n    }, players[1].stats.rating.toFixed())), React.createElement(\"div\", {\n      id: \"vertical-divider\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 306\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      id: \"mainStats-winP\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 307\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 308\n      },\n      __self: this\n    }, \"Winrate\"), React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 309\n      },\n      __self: this\n    }, (players[1].stats.wins / (players[1].stats.wins + players[1].stats.loss) * 100).toFixed() + \"%\"))), React.createElement(\"div\", {\n      className: \"w_horizontal-divider\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 312\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"w_flip-card-back-secondaryStats-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 313\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 314\n      },\n      __self: this\n    }, \"Wins: \", React.createElement(\"strong\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 315\n      },\n      __self: this\n    }, players[1].stats.wins)), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 317\n      },\n      __self: this\n    }, \"Loss: \", React.createElement(\"strong\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 318\n      },\n      __self: this\n    }, players[1].stats.loss)), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 320\n      },\n      __self: this\n    }, \"Games Played: \", React.createElement(\"strong\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 321\n      },\n      __self: this\n    }, players[1].gamesPlayed))), React.createElement(\"div\", {\n      className: \"w_horizontal-divider\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 324\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"w_flip-card-back-streak-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 325\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 326\n      },\n      __self: this\n    }, \"Dayum, son!\"), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 327\n      },\n      __self: this\n    }, \"Streak: \", React.createElement(\"strong\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 328\n      },\n      __self: this\n    }, players[1].stats.streak), \" \")))), React.createElement(\"div\", {\n      className: \"w_flip-card-back\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 334\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"w_flip-card-img-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 335\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      id: \"ioidfufuso898476\",\n      src: \"https://upload.wikimedia.org/wikipedia/commons/b/b8/Messi_vs_Nigeria_2018.jpg\",\n      alt: \"...\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 336\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"w_flip-card-mainStats-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 345\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      id: \"mainStats-rating\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 346\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 347\n      },\n      __self: this\n    }, \"Rating\"), React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 348\n      },\n      __self: this\n    }, players[1].stats.rating.toFixed())), React.createElement(\"div\", {\n      id: \"vertical-divider\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 350\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      id: \"mainStats-winP\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 351\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 352\n      },\n      __self: this\n    }, \"Winrate\"), React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 353\n      },\n      __self: this\n    }, (players[1].stats.wins / (players[1].stats.wins + players[1].stats.loss) * 100).toFixed() + \"%\"))), React.createElement(\"div\", {\n      className: \"w_front-name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 357\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 358\n      },\n      __self: this\n    }, players[1].username)))))), React.createElement(\"div\", {\n      className: \"winner-rating-adjustment\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 365\n      },\n      __self: this\n    }, \"+ \", match.teams.blue.score === 10 ? match.teams.blue.adjustment : match.teams.red.adjustment), React.createElement(\"button\", {\n      className: \"new-game-button\",\n      onClick: startNewGame,\n      type: \"button\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 371\n      },\n      __self: this\n    }, \"New Game\"));\n  };\n\n  return React.createElement(\"div\", {\n    className: \"p_fill\",\n    id: \"target\",\n    onClick: e => onKeyPressed(e),\n    onKeyDown: e => onKeyDown(e),\n    onContextMenu: e => {\n      e.preventDefault();\n      onKeyPressed(e);\n    },\n    tabIndex: \"1\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 383\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"c_scoreboard-container \",\n    id: match.matchOver === true && \"blur-container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 394\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"c_scoreboard-team\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 398\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"c_scoreboard-team-color-red\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 399\n    },\n    __self: this\n  }), React.createElement(\"h1\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 400\n    },\n    __self: this\n  }, match.teams.red.players[0].username), React.createElement(\"h1\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 401\n    },\n    __self: this\n  }, match.teams.red.players[1].username), React.createElement(\"h2\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 402\n    },\n    __self: this\n  }, calculateTeamRating(match.teams.red).toFixed())), React.createElement(\"div\", {\n    className: \"c_scoreboard-score\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 405\n    },\n    __self: this\n  }, React.createElement(\"h1\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 406\n    },\n    __self: this\n  }, match.teams.red.score + \" - \" + match.teams.blue.score)), React.createElement(\"div\", {\n    className: \"c_scoreboard-team\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 408\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"c_scoreboard-team-color-blue\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 409\n    },\n    __self: this\n  }), React.createElement(\"h1\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 410\n    },\n    __self: this\n  }, match.teams.blue.players[0].username), React.createElement(\"h1\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 411\n    },\n    __self: this\n  }, match.teams.blue.players[1].username), React.createElement(\"h2\", {\n    align: \"right\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 412\n    },\n    __self: this\n  }, calculateTeamRating(match.teams.blue).toFixed()))), match && match.matchOver && winScreen());\n};\n\nexport default Scoreboard;","map":{"version":3,"sources":["R:/React/foos-test/foos-master/src/components/scoreboard/Scoreboard.js"],"names":["React","useSelector","useDispatch","updateMatch","removeActiveMatch","gameOver","updatePlayer","fetchPlayers","calculateAdjustment","playScoreSound","Scoreboard","state","matchReducer","match","matchOver","matches","dispatch","onKeyDown","e","newMatchData","console","log","key","teams","blue","score","red","handleScoreAdjustment","onKeyPressed","type","diff","calculateTeamRating","ratingDiff","scoreDiff","adjustment","sendPlayers","team","p1Stats","players","stats","p2Stats","rating","matchData","blueTeam","redTeam","i","bPlayer","rPlayer","calculatePlayerStats","player","mDifference","wins","loss","difference","screensFor","screensAgainst","streak","bestStreak","renderNewMatchOptions","startNewGame","rematch","winScreen","username","toFixed","gamesPlayed","preventDefault"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport \"./_scoreboard.scss\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport {\r\n  updateMatch,\r\n  removeActiveMatch,\r\n  gameOver\r\n} from \"../../redux/matches/match-action\";\r\nimport {\r\n  updatePlayer,\r\n  fetchPlayers\r\n} from \"./../../redux/players/player-action\";\r\nimport calculateAdjustment from \"../../services/calculateRatingAdjustment\";\r\nimport playScoreSound from \"../../services/scoreSound\";\r\n\r\nconst Scoreboard = () => {\r\n  let { match, matchOver, matches } = useSelector(state => state.matchReducer);\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  function onKeyDown(e) {\r\n    let newMatchData = { ...match };\r\n    console.log(e.key);\r\n\r\n    if (!newMatchData.matchOver) {\r\n      switch (e.key) {\r\n        case \"ArrowUp\":\r\n          newMatchData.teams.blue.score++;\r\n          break;\r\n        case \"ArrowDown\":\r\n          newMatchData.teams.blue.score > 0\r\n            ? newMatchData.teams.blue.score--\r\n            : (newMatchData.teams.blue.score = 0);\r\n          break;\r\n        case \"ArrowLeft\":\r\n          newMatchData.teams.red.score > 0\r\n            ? newMatchData.teams.red.score--\r\n            : (newMatchData.teams.red.score = 0);\r\n          break;\r\n        case \"ArrowRight\":\r\n          newMatchData.teams.red.score++;\r\n          break;\r\n        default:\r\n      }\r\n      handleScoreAdjustment(newMatchData);\r\n    }\r\n  }\r\n\r\n  function onKeyPressed(e) {\r\n    let newMatchData = { ...match };\r\n\r\n    if (!newMatchData.matchOver) {\r\n      if (e.type === \"contextmenu\") {\r\n        let diff =\r\n          calculateTeamRating(match.teams.blue) -\r\n          calculateTeamRating(match.teams.red);\r\n        newMatchData.teams.blue.score++;\r\n        playScoreSound(newMatchData.teams.blue.score, diff);\r\n      } else if (e.type === \"click\") {\r\n        let diff =\r\n          calculateTeamRating(match.teams.red) -\r\n          calculateTeamRating(match.teams.blue);\r\n        newMatchData.teams.red.score++;\r\n        playScoreSound(newMatchData.teams.red.score, diff);\r\n      }\r\n      handleScoreAdjustment(newMatchData);\r\n    }\r\n  }\r\n\r\n  const handleScoreAdjustment = newMatchData => {\r\n    if (match.teams.blue.score === 10) {\r\n      let ratingDiff =\r\n        calculateTeamRating(match.teams.red) -\r\n        calculateTeamRating(match.teams.blue);\r\n      let scoreDiff = match.teams.blue.score - match.teams.red.score;\r\n      let adjustment = calculateAdjustment(ratingDiff, scoreDiff);\r\n\r\n      newMatchData.teams.blue.adjustment = +adjustment;\r\n      newMatchData.teams.red.adjustment = -adjustment;\r\n      newMatchData.matchOver = true;\r\n\r\n      sendPlayers(newMatchData);\r\n      console.log(\"Updating player db\");\r\n    } else if (match.teams.red.score === 10) {\r\n      let ratingDiff =\r\n        calculateTeamRating(match.teams.blue) -\r\n        calculateTeamRating(match.teams.red);\r\n      let scoreDiff = match.teams.red.score - match.teams.blue.score;\r\n      let adjustment = calculateAdjustment(ratingDiff, scoreDiff);\r\n\r\n      newMatchData.teams.red.adjustment = +adjustment;\r\n      newMatchData.teams.blue.adjustment = -adjustment;\r\n      newMatchData.matchOver = true;\r\n\r\n      sendPlayers(newMatchData);\r\n      console.log(\"Updating player db\");\r\n    }\r\n\r\n    if (!matchOver) {\r\n      dispatch(updateMatch(newMatchData));\r\n      if (newMatchData.matchOver) {\r\n        dispatch(gameOver());\r\n      }\r\n    }\r\n  };\r\n\r\n  const calculateTeamRating = team => {\r\n    const p1Stats = team.players[0].stats;\r\n    const p2Stats = team.players[1].stats;\r\n    const rating = (p1Stats.rating + p2Stats.rating) / 2;\r\n    return rating;\r\n  };\r\n\r\n  const sendPlayers = matchData => {\r\n    const blueTeam = matchData.teams.blue;\r\n    const redTeam = matchData.teams.red;\r\n\r\n    for (let i = 0; i < 2; i++) {\r\n      let bPlayer = blueTeam.players[i];\r\n      let rPlayer = redTeam.players[i];\r\n\r\n      bPlayer.stats = calculatePlayerStats(bPlayer, matchData);\r\n      rPlayer.stats = calculatePlayerStats(rPlayer, matchData);\r\n\r\n      bPlayer.stats = calculatePlayerStats(bPlayer, \"blue\", matchData);\r\n      rPlayer.stats = calculatePlayerStats(rPlayer, \"red\", matchData);\r\n\r\n      dispatch(updatePlayer(blueTeam.players[i]));\r\n      dispatch(updatePlayer(redTeam.players[i]));\r\n    }\r\n\r\n  };\r\n\r\n  const calculatePlayerStats = (player, team, matchData) => {\r\n    let mDifference = 0;\r\n    let stats = {};\r\n\r\n    if (matchData) {\r\n      mDifference = matchData.teams.blue.score - matchData.teams.red.score;\r\n    }\r\n\r\n    stats.rating = player.stats.rating ? player.stats.rating : 1500;\r\n    stats.wins = player.stats.wins ? player.stats.wins : 0;\r\n    stats.loss = player.stats.loss ? player.stats.loss : 0;\r\n    stats.difference = player.stats.difference ? player.stats.difference : 0;\r\n    stats.screensFor = player.stats.screensFor ? player.stats.screensFor : 0;\r\n    stats.screensAgainst = player.stats.screensAgainst ? player.stats.screensAgainst : 0;\r\n    stats.streak = player.stats.streak ? player.stats.streak : 0;\r\n    stats.bestStreak = player.stats.bestStreak ? player.stats.bestStreak : 0;\r\n\r\n\r\n\r\n    switch (team) {\r\n      case \"blue\":\r\n        stats.rating += matchData.teams.blue.adjustment;\r\n        stats.wins = matchData.teams.blue.score === 10 ? stats.wins + 1 : stats.wins;\r\n        stats.loss = matchData.teams.blue.score < 10 ? stats.loss + 1 : stats.loss;\r\n        stats.difference += mDifference;\r\n        stats.screensFor = mDifference === 10 ? stats.screensFor + 1 : stats.screensFor;\r\n        stats.screensAgainst = mDifference === -10 ? stats.screensAgainst + 1 : stats.screensAgainst;\r\n        stats.streak = mDifference > 0 ? stats.streak + 1 : 0;\r\n        stats.bestStreak = stats.streak > stats.bestStreak ? stats.streak : stats.bestStreak;\r\n        break;\r\n      case \"red\":\r\n        stats.rating += matchData.teams.red.adjustment;\r\n        stats.wins = matchData.teams.red.score === 10 ? stats.wins + 1 : stats.wins;\r\n        stats.loss = matchData.teams.red.score < 10 ? stats.loss + 1 : stats.loss;\r\n        stats.difference += -mDifference;\r\n        stats.screensFor = mDifference === -10 ? stats.screensFor + 1 : stats.screensFor;\r\n        stats.screensAgainst = mDifference === 10 ? stats.screensAgainst + 1 : stats.screensAgainst;\r\n        stats.streak = mDifference < 0 ? stats.streak + 1 : 0;\r\n        stats.bestStreak = stats.streak > stats.bestStreak ? stats.streak : stats.bestStreak;\r\n        break;\r\n      default:\r\n    }\r\n    console.log(matchData);\r\n    return stats;\r\n  }\r\n\r\n  const renderNewMatchOptions = () => {\r\n    return (\r\n      <div className=\"d-flex justify-content-center\">\r\n        <button\r\n          onClick={startNewGame}\r\n          type=\"button\"\r\n          className=\"btn btn-primary c_button\"\r\n        >\r\n          <p>New Match</p>\r\n        </button>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const startNewGame = () => {\r\n    dispatch(removeActiveMatch());\r\n    dispatch(fetchPlayers());\r\n  };\r\n\r\n  const rematch = () => {\r\n    //create a redux handler for rematch\r\n    dispatch(removeActiveMatch());\r\n  };\r\n\r\n  const winScreen = () => {\r\n    let players;\r\n    if (match.teams.blue.score === 10) {\r\n      players = match.teams.blue.players;\r\n    } else {\r\n      players = match.teams.red.players;\r\n    }\r\n\r\n\r\n    return (\r\n      <>\r\n        <div className=\"winScreen-win-text\">\r\n          {match.teams.blue.score === 10 ? \"Blue Team Wins!\" : \"Red Team Wins!\"}\r\n        </div>\r\n        <div className=\"winScreen\"></div>\r\n\r\n        <div className=\"winner-card-container winner-card-container-one\">\r\n          <div className=\"w_flip-card w_flip-card-one\">\r\n            <div className=\"w_flip-card-inner w_flip-card-inner-one\">\r\n              <div className=\"w_flip-card-front\">\r\n                <div className=\"w_flip-card-back-title\">\r\n                  <h1>{players[0].username}</h1>\r\n                </div>\r\n                <div className=\"w_flip-card-back-container\">\r\n                  <div className=\"w_flip-card-mainStats-container\">\r\n                    <div id=\"mainStats-rating\">\r\n                      <p>Rating</p>\r\n                      <h2>{players[0].stats.rating.toFixed()}</h2>\r\n                    </div>\r\n                    <div id=\"vertical-divider\"></div>\r\n                    <div id=\"mainStats-winP\">\r\n                      <p>Winrate</p>\r\n                      <h2>{(players[0].stats.wins / (players[0].stats.wins + players[0].stats.loss) * 100).toFixed() + \"%\"}</h2>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"w_horizontal-divider\"></div>\r\n                  <div className=\"w_flip-card-back-secondaryStats-container\">\r\n                    <p>\r\n                      Wins: <strong>{players[0].stats.wins}</strong>\r\n                    </p>\r\n                    <p>\r\n                      Loss: <strong>{players[0].stats.loss}</strong>\r\n                    </p>\r\n                    <p>\r\n                      Games Played:{\" \"}\r\n                      <strong>{players[0].stats.gamesPlayed}</strong>\r\n                    </p>\r\n                  </div>\r\n                  <div className=\"w_horizontal-divider\"></div>\r\n                  <div className=\"w_flip-card-back-streak-container\">\r\n                    <p>Dayum, son!</p>\r\n                    <p>\r\n                      Streak: <strong>{players[0].stats.streak}</strong>{\" \"}\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"w_flip-card-back\">\r\n                <div className=\"w_flip-card-img-container\">\r\n                  <img\r\n                    id=\"ioidfufuso898476\"\r\n                    src={\r\n                      \"https://upload.wikimedia.org/wikipedia/commons/b/b8/Messi_vs_Nigeria_2018.jpg\"\r\n                    }\r\n                    alt=\"...\"\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"w_flip-card-mainStats-container\">\r\n                  <div id=\"mainStats-rating\">\r\n                    <p>Rating</p>\r\n                    <h2>{players[0].stats.rating.toFixed()}</h2>\r\n                  </div>\r\n                  <div id=\"vertical-divider\"></div>\r\n                  <div id=\"mainStats-winP\">\r\n                    <p>Winrate</p>\r\n                    <h2>{(players[0].stats.wins / (players[0].stats.wins + players[0].stats.loss) * 100).toFixed() + \"%\"}</h2>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"w_front-name\">\r\n                  <h1>{players[0].username}</h1>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"winner-card-container winner-card-container-two\">\r\n          <div className=\"w_flip-card w_flip-card-two\">\r\n            <div className=\"w_flip-card-inner w_flip-card-inner-two\">\r\n              <div className=\"w_flip-card-front\">\r\n                <div className=\"w_flip-card-back-title\">\r\n                  <h1>{players[1].stats.username}</h1>\r\n                </div>\r\n                <div className=\"w_flip-card-back-container\">\r\n                  <div className=\"w_flip-card-mainStats-container\">\r\n                    <div id=\"mainStats-rating\">\r\n                      <p>Rating</p>\r\n                      <h2>{players[1].stats.rating.toFixed()}</h2>\r\n                    </div>\r\n                    <div id=\"vertical-divider\"></div>\r\n                    <div id=\"mainStats-winP\">\r\n                      <p>Winrate</p>\r\n                      <h2>{(players[1].stats.wins / (players[1].stats.wins + players[1].stats.loss) * 100).toFixed() + \"%\"}</h2>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"w_horizontal-divider\"></div>\r\n                  <div className=\"w_flip-card-back-secondaryStats-container\">\r\n                    <p>\r\n                      Wins: <strong>{players[1].stats.wins}</strong>\r\n                    </p>\r\n                    <p>\r\n                      Loss: <strong>{players[1].stats.loss}</strong>\r\n                    </p>\r\n                    <p>\r\n                      Games Played: <strong>{players[1].gamesPlayed}</strong>\r\n                    </p>\r\n                  </div>\r\n                  <div className=\"w_horizontal-divider\"></div>\r\n                  <div className=\"w_flip-card-back-streak-container\">\r\n                    <p>Dayum, son!</p>\r\n                    <p>\r\n                      Streak: <strong>{players[1].stats.streak}</strong>{\" \"}\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"w_flip-card-back\">\r\n                <div className=\"w_flip-card-img-container\">\r\n                  <img\r\n                    id=\"ioidfufuso898476\"\r\n                    src={\r\n                      \"https://upload.wikimedia.org/wikipedia/commons/b/b8/Messi_vs_Nigeria_2018.jpg\"\r\n                    }\r\n                    alt=\"...\"\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"w_flip-card-mainStats-container\">\r\n                  <div id=\"mainStats-rating\">\r\n                    <p>Rating</p>\r\n                    <h2>{players[1].stats.rating.toFixed()}</h2>\r\n                  </div>\r\n                  <div id=\"vertical-divider\"></div>\r\n                  <div id=\"mainStats-winP\">\r\n                    <p>Winrate</p>\r\n                    <h2>{(players[1].stats.wins / (players[1].stats.wins + players[1].stats.loss) * 100).toFixed() + \"%\"}</h2>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"w_front-name\">\r\n                  <h1>{players[1].username}</h1>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"winner-rating-adjustment\">\r\n          {\"+ \"}\r\n          {match.teams.blue.score === 10\r\n            ? match.teams.blue.adjustment\r\n            : match.teams.red.adjustment}\r\n        </div>\r\n        <button\r\n          className=\"new-game-button\"\r\n          onClick={startNewGame}\r\n          type=\"button\"\r\n        >\r\n          New Game\r\n        </button>\r\n      </>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className=\"p_fill\"\r\n      id=\"target\"\r\n      onClick={e => onKeyPressed(e)}\r\n      onKeyDown={e => onKeyDown(e)}\r\n      onContextMenu={e => {\r\n        e.preventDefault();\r\n        onKeyPressed(e);\r\n      }}\r\n      tabIndex=\"1\"\r\n    >\r\n      <div\r\n        className={\"c_scoreboard-container \"}\r\n        id={match.matchOver === true && \"blur-container\"}\r\n      >\r\n        <div className=\"c_scoreboard-team\">\r\n          <div className=\"c_scoreboard-team-color-red\"></div>\r\n          <h1>{match.teams.red.players[0].username}</h1>\r\n          <h1>{match.teams.red.players[1].username}</h1>\r\n          <h2>{calculateTeamRating(match.teams.red).toFixed()}</h2>\r\n\r\n        </div>\r\n        <div className=\"c_scoreboard-score\">\r\n          <h1>{match.teams.red.score + \" - \" + match.teams.blue.score}</h1>\r\n        </div>\r\n        <div className=\"c_scoreboard-team\">\r\n          <div className=\"c_scoreboard-team-color-blue\"></div>\r\n          <h1>{match.teams.blue.players[0].username}</h1>\r\n          <h1>{match.teams.blue.players[1].username}</h1>\r\n          <h2 align=\"right\">{calculateTeamRating(match.teams.blue).toFixed()}</h2>\r\n        </div>\r\n      </div>\r\n\r\n      {match && match.matchOver && winScreen()}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Scoreboard;\r\n"]},"metadata":{},"sourceType":"module"}